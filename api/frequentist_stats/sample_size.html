<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>mozanalysis.frequentist_stats.sample_size &mdash; mozanalysis  documentation</title>
      <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=80d5e7a1" />
      <link rel="stylesheet" type="text/css" href="../../_static/css/theme.css?v=19f00094" />

  
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../../_static/jquery.js?v=5d32c60e"></script>
        <script src="../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="../../_static/documentation_options.js?v=5929fcd5"></script>
        <script src="../../_static/doctools.js?v=9a2dae69"></script>
        <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="author" title="About these documents" href="../../about.html" />
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="mozanalysis.metrics" href="../metrics.html" />
    <link rel="prev" title="mozanalysis.frequentist_stats.bootstrap" href="bootstrap.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../index.html" class="icon icon-home">
            mozanalysis
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../about.html">About Mozanalysis</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../guide.html">Guide</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../api.html">API Documentation</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../bayesian_stats.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">mozanalysis.bayesian_stats</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../bayesian_stats/bayesian_bootstrap.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">mozanalysis.bayesian_stats.bayesian_bootstrap</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../bayesian_stats/binary.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">mozanalysis.bayesian_stats.binary</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../bayesian_stats/survival_func.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">mozanalysis.bayesian_stats.survival_func</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../bq.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">mozanalysis.bq</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../config.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">mozanalysis.config</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../experiment.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">mozanalysis.experiment</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../exposure.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">mozanalysis.exposure</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="bootstrap.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">mozanalysis.frequentist_stats.bootstrap</span></code></a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#"><code class="xref py py-mod docutils literal notranslate"><span class="pre">mozanalysis.frequentist_stats.sample_size</span></code></a><ul>
<li class="toctree-l3"><a class="reference internal" href="#mozanalysis.frequentist_stats.sample_size.ResultsHolder"><code class="docutils literal notranslate"><span class="pre">ResultsHolder</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#mozanalysis.frequentist_stats.sample_size.ResultsHolder.metrics"><code class="docutils literal notranslate"><span class="pre">ResultsHolder.metrics</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#mozanalysis.frequentist_stats.sample_size.ResultsHolder.params"><code class="docutils literal notranslate"><span class="pre">ResultsHolder.params</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#mozanalysis.frequentist_stats.sample_size.ResultsHolder.make_friendly_name"><code class="docutils literal notranslate"><span class="pre">ResultsHolder.make_friendly_name()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#mozanalysis.frequentist_stats.sample_size.SampleSizeResultsHolder"><code class="docutils literal notranslate"><span class="pre">SampleSizeResultsHolder</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#mozanalysis.frequentist_stats.sample_size.SampleSizeResultsHolder.dataframe"><code class="docutils literal notranslate"><span class="pre">SampleSizeResultsHolder.dataframe</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#mozanalysis.frequentist_stats.sample_size.SampleSizeResultsHolder.plot_results"><code class="docutils literal notranslate"><span class="pre">SampleSizeResultsHolder.plot_results()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#mozanalysis.frequentist_stats.sample_size.EmpiricalEffectSizeResultsHolder"><code class="docutils literal notranslate"><span class="pre">EmpiricalEffectSizeResultsHolder</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#mozanalysis.frequentist_stats.sample_size.EmpiricalEffectSizeResultsHolder.style_empirical_sizing_result"><code class="docutils literal notranslate"><span class="pre">EmpiricalEffectSizeResultsHolder.style_empirical_sizing_result()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#mozanalysis.frequentist_stats.sample_size.EmpiricalEffectSizeResultsHolder.dataframe"><code class="docutils literal notranslate"><span class="pre">EmpiricalEffectSizeResultsHolder.dataframe</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#mozanalysis.frequentist_stats.sample_size.EmpiricalEffectSizeResultsHolder.get_styled_dataframe"><code class="docutils literal notranslate"><span class="pre">EmpiricalEffectSizeResultsHolder.get_styled_dataframe()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#mozanalysis.frequentist_stats.sample_size.SampleSizeCurveResultHolder"><code class="docutils literal notranslate"><span class="pre">SampleSizeCurveResultHolder</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#mozanalysis.frequentist_stats.sample_size.SampleSizeCurveResultHolder.dataframe"><code class="docutils literal notranslate"><span class="pre">SampleSizeCurveResultHolder.dataframe</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#mozanalysis.frequentist_stats.sample_size.SampleSizeCurveResultHolder.get_styled_dataframe"><code class="docutils literal notranslate"><span class="pre">SampleSizeCurveResultHolder.get_styled_dataframe()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#mozanalysis.frequentist_stats.sample_size.sample_size_curves"><code class="docutils literal notranslate"><span class="pre">sample_size_curves()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#mozanalysis.frequentist_stats.sample_size.difference_of_proportions_sample_size_calc"><code class="docutils literal notranslate"><span class="pre">difference_of_proportions_sample_size_calc()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#mozanalysis.frequentist_stats.sample_size.z_or_t_ind_sample_size_calc"><code class="docutils literal notranslate"><span class="pre">z_or_t_ind_sample_size_calc()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#mozanalysis.frequentist_stats.sample_size.empirical_effect_size_sample_size_calc"><code class="docutils literal notranslate"><span class="pre">empirical_effect_size_sample_size_calc()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#mozanalysis.frequentist_stats.sample_size.poisson_diff_solve_sample_size"><code class="docutils literal notranslate"><span class="pre">poisson_diff_solve_sample_size()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#mozanalysis.frequentist_stats.sample_size.variable_enrollment_length_sample_size_calc"><code class="docutils literal notranslate"><span class="pre">variable_enrollment_length_sample_size_calc()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../metrics.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">mozanalysis.metrics</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../metrics/desktop.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">mozanalysis.metrics.desktop</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../metrics/fenix.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">mozanalysis.metrics.fenix</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../metrics/firefox_ios.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">mozanalysis.metrics.firefox_ios</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../segments.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">mozanalysis.segments</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../segments/desktop.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">mozanalysis.segments.desktop</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../sizing.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">mozanalysis.sizing</span></code></a></li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">mozanalysis</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../../api.html">API Documentation</a></li>
      <li class="breadcrumb-item active"><code class="xref py py-mod docutils literal notranslate"><span class="pre">mozanalysis.frequentist_stats.sample_size</span></code></li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../_sources/api/frequentist_stats/sample_size.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="module-mozanalysis.frequentist_stats.sample_size">
<span id="mozanalysis-frequentist-stats-sample-size"></span><h1><a class="reference internal" href="#module-mozanalysis.frequentist_stats.sample_size" title="mozanalysis.frequentist_stats.sample_size"><code class="xref py py-mod docutils literal notranslate"><span class="pre">mozanalysis.frequentist_stats.sample_size</span></code></a><a class="headerlink" href="#module-mozanalysis.frequentist_stats.sample_size" title="Link to this heading"></a></h1>
<p>module for sample size calculations</p>
<dl class="py class">
<dt class="sig sig-object py" id="mozanalysis.frequentist_stats.sample_size.ResultsHolder">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">mozanalysis.frequentist_stats.sample_size.</span></span><span class="sig-name descname"><span class="pre">ResultsHolder</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">metrics</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">params</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/mozanalysis/frequentist_stats/sample_size.html#ResultsHolder"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mozanalysis.frequentist_stats.sample_size.ResultsHolder" title="Link to this definition"></a></dt>
<dd><p>Object to hold results from different methods.  It extends
the dictionary objects so that users can interact with it
like a dictionary with the same keys/values as before, making
it backward compatible.</p>
<dl class="py property">
<dt class="sig sig-object py" id="mozanalysis.frequentist_stats.sample_size.ResultsHolder.metrics">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">metrics</span></span><a class="headerlink" href="#mozanalysis.frequentist_stats.sample_size.ResultsHolder.metrics" title="Link to this definition"></a></dt>
<dd><p>List of metrics used to generate the results. Defaults to None</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="mozanalysis.frequentist_stats.sample_size.ResultsHolder.params">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">params</span></span><a class="headerlink" href="#mozanalysis.frequentist_stats.sample_size.ResultsHolder.params" title="Link to this definition"></a></dt>
<dd><p>Parameters used to generated the results.  Defaults to None</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mozanalysis.frequentist_stats.sample_size.ResultsHolder.make_friendly_name">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">make_friendly_name</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ugly_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="reference internal" href="../../_modules/mozanalysis/frequentist_stats/sample_size.html#ResultsHolder.make_friendly_name"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mozanalysis.frequentist_stats.sample_size.ResultsHolder.make_friendly_name" title="Link to this definition"></a></dt>
<dd><p>Turns a name into a friendly name
by replacing underscores with spaces and
capitlizing words other than ones like “per”, “of”, etc
:param ugly_name: name to make pretty
:type ugly_name: str</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>reformatted name</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>pretty_name (str)</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="mozanalysis.frequentist_stats.sample_size.SampleSizeResultsHolder">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">mozanalysis.frequentist_stats.sample_size.</span></span><span class="sig-name descname"><span class="pre">SampleSizeResultsHolder</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">metrics</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">params</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/mozanalysis/frequentist_stats/sample_size.html#SampleSizeResultsHolder"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mozanalysis.frequentist_stats.sample_size.SampleSizeResultsHolder" title="Link to this definition"></a></dt>
<dd><p>Object to hold results from different methods.  It extends
the dictionary objects so that users can interact with it
with a dictionary with the same keys/values as before, making
it backward compatible.  The dictionary functionality is extended to include
additional attributes to hold metadata, a method for plotting results and
a method for returning results as a dataframe</p>
<dl class="py property">
<dt class="sig sig-object py" id="mozanalysis.frequentist_stats.sample_size.SampleSizeResultsHolder.dataframe">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">dataframe</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">DataFrame</span></em><a class="headerlink" href="#mozanalysis.frequentist_stats.sample_size.SampleSizeResultsHolder.dataframe" title="Link to this definition"></a></dt>
<dd><p>dataframe property</p>
<p>returns data as a dataframe rather than a dict</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mozanalysis.frequentist_stats.sample_size.SampleSizeResultsHolder.plot_results">
<span class="sig-name descname"><span class="pre">plot_results</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">result_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'sample_size_per_branch'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/mozanalysis/frequentist_stats/sample_size.html#SampleSizeResultsHolder.plot_results"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mozanalysis.frequentist_stats.sample_size.SampleSizeResultsHolder.plot_results" title="Link to this definition"></a></dt>
<dd><p>plots the outputs of the sampling methods</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>result_name</strong> (<em>str</em>) – sample size method output to plot.</p></li>
<li><p><strong>sample_size_per_branch</strong> (<em>Defaults to</em>)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="mozanalysis.frequentist_stats.sample_size.EmpiricalEffectSizeResultsHolder">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">mozanalysis.frequentist_stats.sample_size.</span></span><span class="sig-name descname"><span class="pre">EmpiricalEffectSizeResultsHolder</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">metrics</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">params</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/mozanalysis/frequentist_stats/sample_size.html#EmpiricalEffectSizeResultsHolder"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mozanalysis.frequentist_stats.sample_size.EmpiricalEffectSizeResultsHolder" title="Link to this definition"></a></dt>
<dd><p>ResultsHolder for empirical_effect_size_sample_size_calc</p>
<dl class="py method">
<dt class="sig sig-object py" id="mozanalysis.frequentist_stats.sample_size.EmpiricalEffectSizeResultsHolder.style_empirical_sizing_result">
<span class="sig-name descname"><span class="pre">style_empirical_sizing_result</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">empirical_sizing_df</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Styler</span></span></span><a class="reference internal" href="../../_modules/mozanalysis/frequentist_stats/sample_size.html#EmpiricalEffectSizeResultsHolder.style_empirical_sizing_result"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mozanalysis.frequentist_stats.sample_size.EmpiricalEffectSizeResultsHolder.style_empirical_sizing_result" title="Link to this definition"></a></dt>
<dd><p>Pretty-print the DF returned by <cite>empirical_sizing()</cite>.</p>
<p>Returns a pandas Styler object.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="mozanalysis.frequentist_stats.sample_size.EmpiricalEffectSizeResultsHolder.dataframe">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">dataframe</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">DataFrame</span></em><a class="headerlink" href="#mozanalysis.frequentist_stats.sample_size.EmpiricalEffectSizeResultsHolder.dataframe" title="Link to this definition"></a></dt>
<dd><p>dataframe property</p>
<p>returns results consolidated into a dataframe</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mozanalysis.frequentist_stats.sample_size.EmpiricalEffectSizeResultsHolder.get_styled_dataframe">
<span class="sig-name descname"><span class="pre">get_styled_dataframe</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Styler</span></span></span><a class="reference internal" href="../../_modules/mozanalysis/frequentist_stats/sample_size.html#EmpiricalEffectSizeResultsHolder.get_styled_dataframe"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mozanalysis.frequentist_stats.sample_size.EmpiricalEffectSizeResultsHolder.get_styled_dataframe" title="Link to this definition"></a></dt>
<dd><p>returns styled dataframe for results from
empirical_effect_size_sample_size_calc</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>style</strong> (<em>bool</em>) – If true, return a cleaned up and formatted pandas Styler.</p></li>
<li><p><strong>dataframe</strong> (<em>Otherwise return a</em>)</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>styled dataframe for visualization</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Styler</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="mozanalysis.frequentist_stats.sample_size.SampleSizeCurveResultHolder">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">mozanalysis.frequentist_stats.sample_size.</span></span><span class="sig-name descname"><span class="pre">SampleSizeCurveResultHolder</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/mozanalysis/frequentist_stats/sample_size.html#SampleSizeCurveResultHolder"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mozanalysis.frequentist_stats.sample_size.SampleSizeCurveResultHolder" title="Link to this definition"></a></dt>
<dd><dl class="py property">
<dt class="sig sig-object py" id="mozanalysis.frequentist_stats.sample_size.SampleSizeCurveResultHolder.dataframe">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">dataframe</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">DataFrame</span></em><a class="headerlink" href="#mozanalysis.frequentist_stats.sample_size.SampleSizeCurveResultHolder.dataframe" title="Link to this definition"></a></dt>
<dd><p>dataframe property</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mozanalysis.frequentist_stats.sample_size.SampleSizeCurveResultHolder.get_styled_dataframe">
<span class="sig-name descname"><span class="pre">get_styled_dataframe</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">input_data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">show_population_pct</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">simulated_values</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">append_stats</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">highlight_lessthan</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">trim_highlight_threshold</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0.15</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Styler</span></span></span><a class="reference internal" href="../../_modules/mozanalysis/frequentist_stats/sample_size.html#SampleSizeCurveResultHolder.get_styled_dataframe"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mozanalysis.frequentist_stats.sample_size.SampleSizeCurveResultHolder.get_styled_dataframe" title="Link to this definition"></a></dt>
<dd><p>Returns styled dataframe useful for visualization</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>input_data</strong> (<em>pd.DataFrame</em><em>, </em><em>optional</em>) – Metric data used for summary stats.
Defaults to None.</p></li>
<li><p><strong>show_population_pct</strong> (<em>bool</em><em>, </em><em>optional</em>) – Controls whether output is a percent
of population or a count. Defaults to True.</p></li>
<li><p><strong>simulated_values</strong> (<em>List</em><em>[</em><em>float</em><em>]</em><em>, </em><em>optional</em>) – List of values that were varied
to create curves. Defaults to None.</p></li>
<li><p><strong>append_stats</strong> (<em>bool</em><em>, </em><em>optional</em>) – Controls whether or not to append summary
stats to output dataframe. Defaults to False.</p></li>
<li><p><strong>highlight_lessthan</strong> (<em>List</em><em>[</em><em>float</em><em>]</em><em>, </em><em>optional</em>) – list of sample size thresholds
to highlight in the results. For each threshold, sample sizes lower than
it (but higher than any other thresholds) are highlighted in a
predefined colour. When <cite>show_population_pct</cite> is <cite>True</cite>, thresholds
should be expressed as a percentage between 0 and 100, not a decimal
between 0 and 1 (for example, to set a threshold for 5%, supply <cite>[5]</cite>).
At most 3 different thresholds are supported: only the 3 lowest
thresholds supplied will be used, and any others are silently ignored.
Defaults to None.</p></li>
<li><p><strong>trim_highlight_threshold</strong> (<em>float</em><em>, </em><em>optional</em>) – if summary stats are shown,
cases for which the trimmed mean differs from the raw mean by more
than this threshold are highlighted. These metrics are strongly affected
by outliers. The threshold should be a relative difference value between
0 and 1.. Defaults to 0.15.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>styled output</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Styler</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="mozanalysis.frequentist_stats.sample_size.sample_size_curves">
<span class="sig-prename descclassname"><span class="pre">mozanalysis.frequentist_stats.sample_size.</span></span><span class="sig-name descname"><span class="pre">sample_size_curves</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">metrics_list</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">solver</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">effect_size</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">ndarray</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">Series</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0.01</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">power</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">ndarray</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">Series</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0.8</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">alpha</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">ndarray</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">Series</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0.05</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">solver_kwargs</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#mozanalysis.frequentist_stats.sample_size.SampleSizeCurveResultHolder" title="mozanalysis.frequentist_stats.sample_size.SampleSizeCurveResultHolder"><span class="pre">SampleSizeCurveResultHolder</span></a></span></span><a class="reference internal" href="../../_modules/mozanalysis/frequentist_stats/sample_size.html#sample_size_curves"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mozanalysis.frequentist_stats.sample_size.sample_size_curves" title="Link to this definition"></a></dt>
<dd><p>Loop over a list of different parameters to produce sample size estimates given
those parameters. A single parameter in [effect_size, power, alpha] should
be passed a list; the sample size curve will be calculated with this as
the variable.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df</strong> – A pandas DataFrame of queried historical data.</p></li>
<li><p><strong>metrics_list</strong> (<em>list</em><em> of </em><a class="reference internal" href="../metrics.html#mozanalysis.metrics.Metric" title="mozanalysis.metrics.Metric"><em>mozanalysis.metrics.Metric</em></a>) – List of metrics
used to construct the results df from HistoricalTarget. The names
of these metrics are used to return results for sample size
calculation for each.</p></li>
<li><p><strong>of</strong> (<em>solver</em><em> (</em><em>any function that returns sample size as function</em>) – effect_size, power, alpha): The solver being used to calculate sample
size.</p></li>
<li><p><strong>effect_size</strong> (<em>float</em><em> or </em><em>ArrayLike</em><em>, </em><em>default .01</em>) – For test of differences in
proportions, the absolute difference; for tests of differences in mean,
the percent change.</p></li>
<li><p><strong>alpha</strong> (<em>float</em><em> or </em><em>ArrayLike</em><em>, </em><em>default .05</em>) – Significance level for the experiment.</p></li>
<li><p><strong>power</strong> (<em>float</em><em> or </em><em>ArrayLike</em><em>, </em><em>default .90</em>) – Probability of detecting an effect,
when a significant effect exists.</p></li>
<li><p><strong>**solver_kwargs</strong> (<em>dict</em>) – Arguments necessary for the provided solver.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The data attribute contains a dictionary
of pd.DataFrame objects. An item in the dictionary is
created for each metric in metric_list, containing a DataFrame of sample
size per branch, number of clients that satisfied targeting, and population
proportion per branch at each value of the iterable parameter.
Additional methods for ease of use are documented in the class.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#mozanalysis.frequentist_stats.sample_size.SampleSizeCurveResultHolder" title="mozanalysis.frequentist_stats.sample_size.SampleSizeCurveResultHolder">SampleSizeCurveResultHolder</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="mozanalysis.frequentist_stats.sample_size.difference_of_proportions_sample_size_calc">
<span class="sig-prename descclassname"><span class="pre">mozanalysis.frequentist_stats.sample_size.</span></span><span class="sig-name descname"><span class="pre">difference_of_proportions_sample_size_calc</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">metrics_list</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="../metrics.html#mozanalysis.metrics.Metric" title="mozanalysis.metrics.Metric"><span class="pre">Metric</span></a><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">effect_size</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0.01</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">alpha</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0.05</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">power</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0.9</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">outlier_percentile</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">99.5</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#mozanalysis.frequentist_stats.sample_size.SampleSizeResultsHolder" title="mozanalysis.frequentist_stats.sample_size.SampleSizeResultsHolder"><span class="pre">SampleSizeResultsHolder</span></a></span></span><a class="reference internal" href="../../_modules/mozanalysis/frequentist_stats/sample_size.html#difference_of_proportions_sample_size_calc"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mozanalysis.frequentist_stats.sample_size.difference_of_proportions_sample_size_calc" title="Link to this definition"></a></dt>
<dd><p>Perform sample size calculation for an experiment to test for a
difference in proportions.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df</strong> – A pandas DataFrame of queried historical data.</p></li>
<li><p><strong>metrics_list</strong> (<em>list</em><em> of </em><a class="reference internal" href="../metrics.html#mozanalysis.metrics.Metric" title="mozanalysis.metrics.Metric"><em>mozanalysis.metrics.Metric</em></a>) – List of metrics
used to construct the results df from HistoricalTarget. The names
of these metrics are used to return results for sample size
calculation for each</p></li>
<li><p><strong>effect_size</strong> (<em>float</em><em>, </em><em>default .01</em>) – Difference in proportion for the
minimum detectable effect –
effect_size = p(event under alt) - p(event under null)</p></li>
<li><p><strong>alpha</strong> (<em>float</em><em>, </em><em>default .05</em>) – Significance level for the experiment.</p></li>
<li><p><strong>power</strong> (<em>float</em><em>, </em><em>default .90</em>) – Probability of detecting an effect,
when a significant effect exists.</p></li>
<li><p><strong>outlier_percentile</strong> (<em>float</em><em>, </em><em>default .995</em>) – Percentile at which to trim
each columns.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The data attribute contains a dictionary.
Keys in the dictionary are the metrics column names from
the DataFrame; values are the required sample size per branch to achieve
the desired power for that metric. Additional methods for ease of use
are documented in the class.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#mozanalysis.frequentist_stats.sample_size.SampleSizeResultsHolder" title="mozanalysis.frequentist_stats.sample_size.SampleSizeResultsHolder">SampleSizeResultsHolder</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="mozanalysis.frequentist_stats.sample_size.z_or_t_ind_sample_size_calc">
<span class="sig-prename descclassname"><span class="pre">mozanalysis.frequentist_stats.sample_size.</span></span><span class="sig-name descname"><span class="pre">z_or_t_ind_sample_size_calc</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">metrics_list</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="../metrics.html#mozanalysis.metrics.Metric" title="mozanalysis.metrics.Metric"><span class="pre">Metric</span></a><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">test</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'z'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">effect_size</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0.01</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">alpha</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0.05</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">power</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0.9</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">outlier_percentile</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">99.5</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#mozanalysis.frequentist_stats.sample_size.SampleSizeResultsHolder" title="mozanalysis.frequentist_stats.sample_size.SampleSizeResultsHolder"><span class="pre">SampleSizeResultsHolder</span></a></span></span><a class="reference internal" href="../../_modules/mozanalysis/frequentist_stats/sample_size.html#z_or_t_ind_sample_size_calc"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mozanalysis.frequentist_stats.sample_size.z_or_t_ind_sample_size_calc" title="Link to this definition"></a></dt>
<dd><p>Perform sample size calculation for an experiment based on independent
samples t or z tests.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df</strong> – A pandas DataFrame of queried historical data.</p></li>
<li><p><strong>metrics_list</strong> (<em>list</em><em> of </em><a class="reference internal" href="../metrics.html#mozanalysis.metrics.Metric" title="mozanalysis.metrics.Metric"><em>mozanalysis.metrics.Metric</em></a>) – List of metrics
used to construct the results df from HistoricalTarget. The names
of these metrics are used to return results for sample size
calculation for each</p></li>
<li><p><strong>test</strong> (str, default <cite>z</cite>) – <cite>z</cite> or <cite>t</cite> to indicate which solver to use</p></li>
<li><p><strong>effect_size</strong> (<em>float</em><em>, </em><em>default .01</em>) – Percent change in metrics
expected as a result of the experiment treatment</p></li>
<li><p><strong>alpha</strong> (<em>float</em><em>, </em><em>default .05</em>) – Significance level for the experiment.</p></li>
<li><p><strong>power</strong> (<em>float</em><em>, </em><em>default .90</em>) – Probability of detecting an effect,
when a significant effect exists.</p></li>
<li><p><strong>outlier_percentile</strong> (<em>float</em><em>, </em><em>default .995</em>) – Percentile at which to trim
each columns.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The data attribute contains a dictionary.
Keys in the dictionary are the metrics column names from
the DataFrame; values are the required sample size per branch to achieve
the desired power for that metric. Additional methods for ease of use
are documented in the class.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#mozanalysis.frequentist_stats.sample_size.SampleSizeResultsHolder" title="mozanalysis.frequentist_stats.sample_size.SampleSizeResultsHolder">SampleSizeResultsHolder</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="mozanalysis.frequentist_stats.sample_size.empirical_effect_size_sample_size_calc">
<span class="sig-prename descclassname"><span class="pre">mozanalysis.frequentist_stats.sample_size.</span></span><span class="sig-name descname"><span class="pre">empirical_effect_size_sample_size_calc</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">res</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="../experiment.html#mozanalysis.experiment.TimeSeriesResult" title="mozanalysis.experiment.TimeSeriesResult"><span class="pre">TimeSeriesResult</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">bq_context</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="../bq.html#mozanalysis.bq.BigQueryContext" title="mozanalysis.bq.BigQueryContext"><span class="pre">BigQueryContext</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">metric_list</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">quantile</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0.9</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">power</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0.8</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">alpha</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0.05</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">parent_distribution</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'normal'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">plot_effect_sizes</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#mozanalysis.frequentist_stats.sample_size.EmpiricalEffectSizeResultsHolder" title="mozanalysis.frequentist_stats.sample_size.EmpiricalEffectSizeResultsHolder"><span class="pre">EmpiricalEffectSizeResultsHolder</span></a></span></span><a class="reference internal" href="../../_modules/mozanalysis/frequentist_stats/sample_size.html#empirical_effect_size_sample_size_calc"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mozanalysis.frequentist_stats.sample_size.empirical_effect_size_sample_size_calc" title="Link to this definition"></a></dt>
<dd><p>Perform sample size calculation with empirical effect size and
asymptotic approximation of Wilcoxen-Mann-Whitney U Test. Empirical effect size
is estimated using a quantile of week-to-week changes over
the course of the study, and the variance in the test statistic is
estimated as a quantile of weekly variance in metrics. Sample
size calculation is based on the asymptotic relative efficiency (ARE) of
the U test to the T test (see Stapleton 2008, pg 266, or
<a class="reference external" href="https://www.psychologie.hhu.de/fileadmin/redaktion/Fakultaeten/">https://www.psychologie.hhu.de/fileadmin/redaktion/Fakultaeten/</a>
Mathematisch-Naturwissenschaftliche_Fakultaet/Psychologie/AAP/gpower/GPowerManual.pdf)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>res</strong> – A TimeSeriesResult, generated by
mozanalysis.sizing.HistoricalTarget.get_time_series_data.</p></li>
<li><p><strong>bq_context</strong> – A mozanalysis.bq.BigQueryContext object that handles downloading
time series data from BigQuery.</p></li>
<li><p><strong>metrics_list</strong> (<em>list</em><em> of </em><a class="reference internal" href="../metrics.html#mozanalysis.metrics.Metric" title="mozanalysis.metrics.Metric"><em>mozanalysis.metrics.Metric</em></a>) – List of metrics
used to construct the results df from HistoricalTarget. The names
of these metrics are used to return results for sample size
calculation for each.</p></li>
<li><p><strong>quantile</strong> (<em>float</em><em>, </em><em>default .90</em>) – Quantile used to calculate the effect size
as the quantile of week-to-week metric changes and the variance of
the mean.</p></li>
<li><p><strong>alpha</strong> (<em>float</em><em>, </em><em>default .05</em>) – Significance level for the experiment.</p></li>
<li><p><strong>power</strong> (<em>float</em><em>, </em><em>default .90</em>) – Probability of detecting an effect,
when a significant effect exists.</p></li>
<li><p><strong>parent_distribution</strong> (<em>str</em><em>, </em><em>default &quot;normal&quot;</em>) – Distribution of the parent data;
must be normal, uniform, logistic, or laplace.</p></li>
<li><p><strong>plot_effect_sizes</strong> (<em>bool</em><em>, </em><em>default False</em>) – Whether or not to plot the
distribution of effect sizes observed in historical data.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The data attribute contains a dictionary.
Keys in the dictionary are the metrics column names from
the DataFrame; values are dictionaries containing the required sample size
per branch to achieve the desired power for that metric, along with
additional information. Additional methods for ease of use
are documented in the class.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#mozanalysis.frequentist_stats.sample_size.EmpiricalEffectSizeResultsHolder" title="mozanalysis.frequentist_stats.sample_size.EmpiricalEffectSizeResultsHolder">EmpiricalEffectSizeResultsHolder</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="mozanalysis.frequentist_stats.sample_size.poisson_diff_solve_sample_size">
<span class="sig-prename descclassname"><span class="pre">mozanalysis.frequentist_stats.sample_size.</span></span><span class="sig-name descname"><span class="pre">poisson_diff_solve_sample_size</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">metrics_list</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="../metrics.html#mozanalysis.metrics.Metric" title="mozanalysis.metrics.Metric"><span class="pre">Metric</span></a><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">effect_size</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0.01</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">alpha</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0.05</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">power</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0.9</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">outlier_percentile</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">99.5</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#mozanalysis.frequentist_stats.sample_size.SampleSizeResultsHolder" title="mozanalysis.frequentist_stats.sample_size.SampleSizeResultsHolder"><span class="pre">SampleSizeResultsHolder</span></a></span></span><a class="reference internal" href="../../_modules/mozanalysis/frequentist_stats/sample_size.html#poisson_diff_solve_sample_size"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mozanalysis.frequentist_stats.sample_size.poisson_diff_solve_sample_size" title="Link to this definition"></a></dt>
<dd><p>Sample size for test of difference of Poisson rates,
based on Poisson rate’s asymptotic normality.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df</strong> – A pandas DataFrame of queried historical data.</p></li>
<li><p><strong>metrics_list</strong> (<em>list</em><em> of </em><a class="reference internal" href="../metrics.html#mozanalysis.metrics.Metric" title="mozanalysis.metrics.Metric"><em>mozanalysis.metrics.Metric</em></a>) – List of metrics
used to construct the results df from HistoricalTarget. The names
of these metrics are used to return results for sample size
calculation for each</p></li>
<li><p><strong>test</strong> (str, default <cite>z</cite>) – <cite>z</cite> or <cite>t</cite> to indicate which solver to use</p></li>
<li><p><strong>effect_size</strong> (<em>float</em><em>, </em><em>default .01</em>) – Percent change in metrics
expected as a result of the experiment treatment</p></li>
<li><p><strong>alpha</strong> (<em>float</em><em>, </em><em>default .05</em>) – Significance level for the experiment.</p></li>
<li><p><strong>power</strong> (<em>float</em><em>, </em><em>default .90</em>) – Probability of detecting an effect,
when a significant effect exists.</p></li>
<li><p><strong>outlier_percentile</strong> (<em>float</em><em>, </em><em>default .995</em>) – Percentile at which to trim
each columns.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The data attribute contains a dictionary.
Keys in the dictionary are the metrics column names from
the DataFrame; values are the required sample size per branch to achieve
the desired power for that metric.  Additional methods for ease of use
are documented in the class</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#mozanalysis.frequentist_stats.sample_size.SampleSizeResultsHolder" title="mozanalysis.frequentist_stats.sample_size.SampleSizeResultsHolder">SampleSizeResultsHolder</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="mozanalysis.frequentist_stats.sample_size.variable_enrollment_length_sample_size_calc">
<span class="sig-prename descclassname"><span class="pre">mozanalysis.frequentist_stats.sample_size.</span></span><span class="sig-name descname"><span class="pre">variable_enrollment_length_sample_size_calc</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">bq_context</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="../bq.html#mozanalysis.bq.BigQueryContext" title="mozanalysis.bq.BigQueryContext"><span class="pre">BigQueryContext</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">start_date</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">datetime</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_enrollment_days</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">analysis_length</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">metric_list</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="../metrics.html#mozanalysis.metrics.Metric" title="mozanalysis.metrics.Metric"><span class="pre">Metric</span></a><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">target_list</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="../segments.html#mozanalysis.segments.Segment" title="mozanalysis.segments.Segment"><span class="pre">Segment</span></a><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">variable_window_length</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">7</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">experiment_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">app_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">to_pandas</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">sizing_kwargs</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">int</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">DataFrame</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../../_modules/mozanalysis/frequentist_stats/sample_size.html#variable_enrollment_length_sample_size_calc"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mozanalysis.frequentist_stats.sample_size.variable_enrollment_length_sample_size_calc" title="Link to this definition"></a></dt>
<dd><p>Sample size calculation over a variable enrollment window. This function
will fetch a DataFrame with metrics defined in metric_list for a target
population defined in the target_list over an enrollment window of length
max_enrollment_days. Sample size calculation is performed
using clients enrolled in the first variable_window_length dates in
that max enrollment window; that window is incrementally widened by
the variable window length and sample size calculation performed again,
until the last enrollment date is reached.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>bq_context</strong> – A mozanalysis.bq.BigQueryContext object that handles downloading
data from BigQuery.</p></li>
<li><p><strong>start_date</strong> (<em>str</em><em> or </em><em>datetime in %Y-%m-%d format</em>) – First date of enrollment for
sizing job.</p></li>
<li><p><strong>max_enrollment_days</strong> (<em>int</em>) – Maximum number of dates to consider for the
enrollment period for the experiment in question.</p></li>
<li><p><strong>analysis_length</strong> (<em>int</em>) – Number of days to record metrics for each client
in the experiment in question.</p></li>
<li><p><strong>metric_list</strong> (<em>list</em><em> of </em><a class="reference internal" href="../metrics.html#mozanalysis.metrics.Metric" title="mozanalysis.metrics.Metric"><em>mozanalysis.metrics.Metric</em></a>) – List of metrics
used to construct the results df from HistoricalTarget. The names
of these metrics are used to return results for sample size
calculation for each.</p></li>
<li><p><strong>target_list</strong> (<em>list</em><em> of </em><a class="reference internal" href="../segments.html#mozanalysis.segments.Segment" title="mozanalysis.segments.Segment"><em>mozanalysis.segments.Segment</em></a>) – List of segments
used to identify clients to include in the study.</p></li>
<li><p><strong>variable_window_length</strong> (<em>int</em>) – Length of the intervals used to extend
the enrollment period incrementally. Sample sizes are recalculated over
each variable enrollment period.</p></li>
<li><p><strong>experiment_name</strong> (<em>str</em>) – Optional name used to name the target and metric
tables in BigQuery.</p></li>
<li><p><strong>app_id</strong> (<em>str</em>) – Application that experiment will be run on.</p></li>
<li><p><strong>**sizing_kwargs</strong> – Arguments to pass to z_or_t_ind_sample_size_calc</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A dictionary. Keys in the dictionary are the metrics column names from
the DataFrame; values are the required sample size per branch to achieve
the desired power for that metric.</p>
</dd>
</dl>
</dd></dl>

</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="bootstrap.html" class="btn btn-neutral float-left" title="mozanalysis.frequentist_stats.bootstrap" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="../metrics.html" class="btn btn-neutral float-right" title="mozanalysis.metrics" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2019, Mozilla.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>